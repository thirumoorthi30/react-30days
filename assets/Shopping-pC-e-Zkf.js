import{R as g,r as u,t as j,j as e}from"./index-D8O9hlVZ.js";import{G as p}from"./iconBase-BtYf6yNQ.js";import{L as k}from"./Layout-BMXIhmtk.js";const m=t=>{let a;const s=new Set,r=(c,n)=>{const d=typeof c=="function"?c(a):c;if(!Object.is(d,a)){const y=a;a=n??(typeof d!="object"||d===null)?d:Object.assign({},a,d),s.forEach(f=>f(a,y))}},l=()=>a,o={setState:r,getState:l,getInitialState:()=>x,subscribe:c=>(s.add(c),()=>s.delete(c))},x=a=t(r,l,o);return o},v=(t=>t?m(t):m),C=t=>t;function N(t,a=C){const s=g.useSyncExternalStore(t.subscribe,g.useCallback(()=>a(t.getState()),[t,a]),g.useCallback(()=>a(t.getInitialState()),[t,a]));return g.useDebugValue(s),s}const b=t=>{const a=v(t),s=r=>N(a,r);return Object.assign(s,a),s},S=(t=>t?b(t):b),w=S((t,a)=>({cart:[],addToCart:s=>{const r=a().cart,l=r.find(i=>i.id===s.id);t(l?{cart:r.map(i=>i.id===s.id?{...i,qty:i.qty+1}:i)}:{cart:[...r,{...s,qty:1}]})},removeFromCart:s=>t({cart:a().cart.filter(r=>r.id!==s)}),increaseQty:s=>t({cart:a().cart.map(r=>r.id===s?{...r,qty:r.qty+1}:r)}),decreaseQty:s=>t({cart:a().cart.map(r=>r.id===s&&r.qty>1?{...r,qty:r.qty-1}:r)}),totalPrice:()=>a().cart.reduce((s,r)=>s+r.price*r.qty,0)}));function q(t){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function L(t){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const I=[{id:1,name:"Shoes",price:1200},{id:2,name:"T-Shirt",price:500},{id:3,name:"Watch",price:2e3},{id:4,name:"Tracker",price:2500},{id:5,name:"Car",price:200},{id:6,name:"Bike",price:2700}];function B(){const{cart:t,addToCart:a,removeFromCart:s,increaseQty:r,decreaseQty:l,totalPrice:i}=w(),{theme:h}=u.useContext(j),o=h==="dark",[x,c]=u.useState(!1);return e.jsx(k,{children:e.jsxs("div",{className:`min-h-[calc(100vh-64px)] p-8 transition-colors duration-300 font-sans ${o?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-indigo-600 dark:text-indigo-400",children:"Shopping Store"}),e.jsxs("button",{onClick:()=>c(!0),className:"relative bg-indigo-600 dark:bg-indigo-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-indigo-700 dark:hover:bg-indigo-600",children:[e.jsx(q,{size:20}),"Cart",t.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.length})]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(n=>e.jsxs("div",{className:`shadow-lg rounded-xl p-5 transition hover:shadow-2xl ${o?"bg-gray-800":"bg-white"}`,children:[e.jsx("h3",{className:"font-semibold text-lg",children:n.name}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-300",children:["₹",n.price]}),e.jsx("button",{onClick:()=>a(n),className:"mt-4 bg-indigo-600 dark:bg-indigo-500 text-white w-full py-2 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600",children:"Add to Cart"})]},n.id))}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),e.jsxs("div",{className:`fixed top-16 right-0 h-full w-80 p-5 shadow-xl transition-transform duration-300 z-50 ${x?"translate-x-0":"translate-x-full"} ${o?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Your Cart"}),e.jsx("button",{className:"text-gray-500 hover:text-red-500",onClick:()=>c(!1),children:e.jsx(L,{size:24})})]}),t.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cart is empty"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[75vh] pr-2",children:t.map(n=>e.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center ${o?"bg-gray-700":"bg-gray-100"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-sm",children:["₹",n.price," × ",n.qty]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{className:"px-2 bg-gray-300 dark:bg-gray-600 rounded",onClick:()=>l(n.id),children:"−"}),e.jsx("button",{className:"px-2 bg-gray-300 dark:bg-gray-600 rounded",onClick:()=>r(n.id),children:"+"}),e.jsx("button",{onClick:()=>s(n.id),className:"text-red-500 font-bold",children:"×"})]})]},n.id))}),e.jsxs("h2",{className:"text-lg font-bold mt-4",children:["Total: ₹",i()]})]})]})]})})}export{B as default};
