import{c as st,r as w,R as Ce,t as ot,j as x}from"./index-BB8Q-ByP.js";import{L as it}from"./Layout-DpfiyqMi.js";var le={exports:{}},fe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We;function at(){if(We)return fe;We=1;var e=st();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,f=e.useLayoutEffect,o=e.useDebugValue;function a(c,d){var m=d(),T=r({inst:{value:m,getSnapshot:d}}),p=T[0].inst,U=T[1];return f(function(){p.value=m,p.getSnapshot=d,l(p)&&U({inst:p})},[c,m,d]),s(function(){return l(p)&&U({inst:p}),c(function(){l(p)&&U({inst:p})})},[c]),o(m),m}function l(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!n(c,m)}catch{return!0}}function C(c,d){return d()}var R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:a;return fe.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:R,fe}var qe;function ct(){return qe||(qe=1,le.exports=at()),le.exports}var ut=ct();const ze=0,Be=1,Ge=2,$e=3;var Me=Object.prototype.hasOwnProperty;function ve(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ve(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Me.call(e,n)&&++r&&!Me.call(t,n)||!(n in t)||!ve(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const W=new WeakMap,$=()=>{},O=$(),we=Object,u=e=>e===O,A=e=>typeof e=="function",M=(e,t)=>({...e,...t}),Je=e=>A(e.then),de={},oe={},De="undefined",ee=typeof window!=De,Re=typeof document!=De,lt=ee&&"Deno"in window,ft=()=>ee&&typeof window.requestAnimationFrame!=De,Ye=(e,t)=>{const n=W.get(e);return[()=>!u(t)&&e.get(t)||de,r=>{if(!u(t)){const s=e.get(t);t in oe||(oe[t]=s),n[5](t,M(s,r),s||de)}},n[6],()=>!u(t)&&t in oe?oe[t]:!u(t)&&e.get(t)||de]};let Se=!0;const dt=()=>Se,[xe,ye]=ee&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[$,$],ht=()=>{const e=Re&&document.visibilityState;return u(e)||e!=="hidden"},mt=e=>(Re&&document.addEventListener("visibilitychange",e),xe("focus",e),()=>{Re&&document.removeEventListener("visibilitychange",e),ye("focus",e)}),pt=e=>{const t=()=>{Se=!0,e()},n=()=>{Se=!1};return xe("online",t),xe("offline",n),()=>{ye("online",t),ye("offline",n)}},gt={isOnline:dt,isVisible:ht},Et={initFocus:mt,initReconnect:pt},Ue=!Ce.useId,Z=!ee||lt,vt=e=>ft()?window.requestAnimationFrame(e):setTimeout(e,1),he=Z?w.useEffect:w.useLayoutEffect,me=typeof navigator<"u"&&navigator.connection,ke=!Z&&me&&(["slow-2g","2g"].includes(me.effectiveType)||me.saveData),ie=new WeakMap,wt=e=>we.prototype.toString.call(e),pe=(e,t)=>e===`[object ${t}]`;let Rt=0;const be=e=>{const t=typeof e,n=wt(e),r=pe(n,"Date"),s=pe(n,"RegExp"),f=pe(n,"Object");let o,a;if(we(e)===e&&!r&&!s){if(o=ie.get(e),o)return o;if(o=++Rt+"~",ie.set(e,o),Array.isArray(e)){for(o="@",a=0;a<e.length;a++)o+=be(e[a])+",";ie.set(e,o)}if(f){o="#";const l=we.keys(e).sort();for(;!u(a=l.pop());)u(e[a])||(o+=a+":"+be(e[a])+",");ie.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},_e=e=>{if(A(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?be(e):"",[e,t]};let St=0;const Oe=()=>++St;async function Xe(...e){const[t,n,r,s]=e,f=M({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=f.populateCache;const a=f.rollbackOnError;let l=f.optimisticData;const C=d=>typeof a=="function"?a(d):a!==!1,R=f.throwOnError;if(A(n)){const d=n,m=[],T=t.keys();for(const p of T)!/^\$(inf|sub)\$/.test(p)&&d(t.get(p)._k)&&m.push(p);return Promise.all(m.map(c))}return c(n);async function c(d){const[m]=_e(d);if(!m)return;const[T,p]=Ye(t,m),[U,i,te,Y]=W.get(t),q=()=>{const D=U[m];return(A(f.revalidate)?f.revalidate(T().data,d):f.revalidate!==!1)&&(delete te[m],delete Y[m],D&&D[0])?D[0](Ge).then(()=>T().data):T().data};if(e.length<3)return q();let b=r,V,I=!1;const v=Oe();i[m]=[v,0];const K=!u(l),L=T(),z=L.data,ne=L._c,k=u(ne)?z:ne;if(K&&(l=A(l)?l(k,z):l,p({data:l,_c:k})),A(b))try{b=b(k)}catch(D){V=D,I=!0}if(b&&Je(b))if(b=await b.catch(D=>{V=D,I=!0}),v!==i[m][0]){if(I)throw V;return b}else I&&K&&C(V)&&(o=!0,p({data:k,_c:O}));if(o&&!I)if(A(o)){const D=o(b,k);p({data:D,error:O,_c:O})}else p({data:b,error:O,_c:O});if(i[m][1]=Oe(),Promise.resolve(q()).then(()=>{p({_c:O})}),I){if(R)throw V;return}return b}}const He=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},xt=(e,t)=>{if(!W.has(e)){const n=M(Et,t),r=Object.create(null),s=Xe.bind(O,e);let f=$;const o=Object.create(null),a=(R,c)=>{const d=o[R]||[];return o[R]=d,d.push(c),()=>d.splice(d.indexOf(c),1)},l=(R,c,d)=>{e.set(R,c);const m=o[R];if(m)for(const T of m)T(c,d)},C=()=>{if(!W.has(e)&&(W.set(e,[r,Object.create(null),Object.create(null),Object.create(null),s,l,a]),!Z)){const R=n.initFocus(setTimeout.bind(O,He.bind(O,r,ze))),c=n.initReconnect(setTimeout.bind(O,He.bind(O,r,Be)));f=()=>{R&&R(),c&&c(),W.delete(e)}}};return C(),[e,s,C,f]}return[e,W.get(e)[4]]},yt=(e,t,n,r,s)=>{const f=n.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!u(f)&&o>f||setTimeout(r,a,s)},bt=ve,[Qe,Ot]=xt(new Map),Ct=M({onLoadingSlow:$,onSuccess:$,onError:$,onErrorRetry:yt,onDiscarded:$,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ke?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ke?5e3:3e3,compare:bt,isPaused:()=>!1,cache:Qe,mutate:Ot,fallback:{}},gt),Dt=(e,t)=>{const n=M(e,t);if(t){const{use:r,fallback:s}=e,{use:f,fallback:o}=t;r&&f&&(n.use=r.concat(f)),s&&o&&(n.fallback=M(s,o))}return n},_t=w.createContext({}),Tt="$inf$",Ze=ee&&window.__SWR_DEVTOOLS_USE__,Nt=Ze?window.__SWR_DEVTOOLS_USE__:[],jt=()=>{Ze&&(window.__SWR_DEVTOOLS_REACT__=Ce)},It=e=>A(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Lt=()=>{const e=w.useContext(_t);return w.useMemo(()=>M(Ct,e),[e])},At=e=>(t,n,r)=>e(t,n&&((...f)=>{const[o]=_e(t),[,,,a]=W.get(Qe);if(o.startsWith(Tt))return n(...f);const l=a[o];return u(l)?n(...f):(delete a[o],l)}),r),Vt=Nt.concat(At),Ft=e=>function(...n){const r=Lt(),[s,f,o]=It(n),a=Dt(r,o);let l=e;const{use:C}=a,R=(C||[]).concat(Vt);for(let c=R.length;c--;)l=R[c](l);return l(s,f||a.fetcher||null,a)},Pt=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};jt();const ge=Ce.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ee={dedupe:!0},Ke=Promise.resolve(O),Wt=(e,t,n)=>{const{cache:r,compare:s,suspense:f,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:C,refreshWhenHidden:R,refreshWhenOffline:c,keepPreviousData:d}=n,[m,T,p,U]=W.get(r),[i,te]=_e(e),Y=w.useRef(!1),q=w.useRef(!1),b=w.useRef(i),V=w.useRef(t),I=w.useRef(n),v=()=>I.current,K=()=>v().isVisible()&&v().isOnline(),[L,z,ne,k]=Ye(r,i),D=w.useRef({}).current,X=u(o)?u(n.fallback)?O:n.fallback[i]:o,Te=(h,E)=>{for(const S in D){const g=S;if(g==="data"){if(!s(h[g],E[g])&&(!u(h[g])||!s(se,E[g])))return!1}else if(E[g]!==h[g])return!1}return!0},Ne=w.useMemo(()=>{const h=!i||!t?!1:u(a)?v().isPaused()||f?!1:l!==!1:a,E=_=>{const F=M(_);return delete F._k,h?{isValidating:!0,isLoading:!0,...F}:F},S=L(),g=k(),j=E(S),J=S===g?j:E(g);let y=j;return[()=>{const _=E(L());return Te(_,y)?(y.data=_.data,y.isLoading=_.isLoading,y.isValidating=_.isValidating,y.error=_.error,y):(y=_,_)},()=>J]},[r,i]),B=ut.useSyncExternalStore(w.useCallback(h=>ne(i,(E,S)=>{Te(S,E)||h()}),[r,i]),Ne[0],Ne[1]),je=!Y.current,et=m[i]&&m[i].length>0,G=B.data,H=u(G)?X&&Je(X)?ge(X):X:G,re=B.error,ae=w.useRef(H),se=d?u(G)?u(ae.current)?H:ae.current:G:H,Ie=et&&!u(re)?!1:je&&!u(a)?a:v().isPaused()?!1:f?u(H)?!1:l:u(H)||l,Le=!!(i&&t&&je&&Ie),tt=u(B.isValidating)?Le:B.isValidating,nt=u(B.isLoading)?Le:B.isLoading,Q=w.useCallback(async h=>{const E=V.current;if(!i||!E||q.current||v().isPaused())return!1;let S,g,j=!0;const J=h||{},y=!p[i]||!J.dedupe,_=()=>Ue?!q.current&&i===b.current&&Y.current:i===b.current,F={isValidating:!1,isLoading:!1},Ve=()=>{z(F)},Fe=()=>{const N=p[i];N&&N[1]===g&&delete p[i]},Pe={isValidating:!0};u(L().data)&&(Pe.isLoading=!0);try{if(y&&(z(Pe),n.loadingTimeout&&u(L().data)&&setTimeout(()=>{j&&_()&&v().onLoadingSlow(i,n)},n.loadingTimeout),p[i]=[E(te),Oe()]),[S,g]=p[i],S=await S,y&&setTimeout(Fe,n.dedupingInterval),!p[i]||p[i][1]!==g)return y&&_()&&v().onDiscarded(i),!1;F.error=O;const N=T[i];if(!u(N)&&(g<=N[0]||g<=N[1]||N[1]===0))return Ve(),y&&_()&&v().onDiscarded(i),!1;const P=L().data;F.data=s(P,S)?P:S,y&&_()&&v().onSuccess(S,i,n)}catch(N){Fe();const P=v(),{shouldRetryOnError:ce}=P;P.isPaused()||(F.error=N,y&&_()&&(P.onError(N,i,P),(ce===!0||A(ce)&&ce(N))&&(!v().revalidateOnFocus||!v().revalidateOnReconnect||K())&&P.onErrorRetry(N,i,P,rt=>{const ue=m[i];ue&&ue[0]&&ue[0]($e,rt)},{retryCount:(J.retryCount||0)+1,dedupe:!0})))}return j=!1,Ve(),!0},[i,r]),Ae=w.useCallback((...h)=>Xe(r,b.current,...h),[]);if(he(()=>{V.current=t,I.current=n,u(G)||(ae.current=G)}),he(()=>{if(!i)return;const h=Q.bind(O,Ee);let E=0;v().revalidateOnFocus&&(E=Date.now()+v().focusThrottleInterval);const g=Pt(i,m,(j,J={})=>{if(j==ze){const y=Date.now();v().revalidateOnFocus&&y>E&&K()&&(E=y+v().focusThrottleInterval,h())}else if(j==Be)v().revalidateOnReconnect&&K()&&h();else{if(j==Ge)return Q();if(j==$e)return Q(J)}});return q.current=!1,b.current=i,Y.current=!0,z({_k:te}),Ie&&(p[i]||(u(H)||Z?h():vt(h))),()=>{q.current=!0,g()}},[i]),he(()=>{let h;function E(){const g=A(C)?C(L().data):C;g&&h!==-1&&(h=setTimeout(S,g))}function S(){!L().error&&(R||v().isVisible())&&(c||v().isOnline())?Q(Ee).then(E):E()}return E(),()=>{h&&(clearTimeout(h),h=-1)}},[C,R,c,i]),w.useDebugValue(se),f){const h=i&&u(H);if(!Ue&&Z&&h)throw new Error("Fallback data is required when using Suspense in SSR.");h&&(V.current=t,I.current=n,q.current=!1);const E=U[i],S=!u(E)&&h?Ae(E):Ke;if(ge(S),!u(re)&&h)throw re;const g=h?Q(Ee):Ke;!u(se)&&h&&(g.status="fulfilled",g.value=!0),ge(g)}return{mutate:Ae,get data(){return D.data=!0,se},get error(){return D.error=!0,re},get isValidating(){return D.isValidating=!0,tt},get isLoading(){return D.isLoading=!0,nt}}},qt=Ft(Wt),$t=e=>fetch(e).then(t=>t.json()),Mt="836580772ffe5825340dd2cd44d12fd0";function Kt(){const[e,t]=w.useState(""),{theme:n}=w.useContext(ot),r=n==="dark",{data:s,error:f,isLoading:o}=qt(e?`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${Mt}&units=metric`:null,$t),a=()=>{e.trim()};return x.jsx(it,{children:x.jsx("div",{className:`min-h-[84.40vh] flex items-center justify-center p-4 ${r?"bg-gray-900 text-white":"bg-bgColor text-black"}`,children:x.jsxs("div",{className:`shadow-lg rounded-xl p-6 w-full max-w-md ${r?"bg-gray-800":"bg-yellow-200"}`,children:[x.jsx("h1",{className:"text-2xl font-bold text-center mb-4 text-blue-600",children:"Weather App"}),x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsx("input",{type:"text",placeholder:"Enter city name...",value:e,onChange:l=>t(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),className:`flex-1 px-4 py-2 border rounded-lg outline-none ${r?"bg-gray-700 text-white border-gray-600":"bg-white"}`}),x.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Search"})]}),f&&x.jsx("p",{className:"text-red-500 text-center",children:"City not found!"}),o&&x.jsx("p",{className:"text-center text-gray-400",children:"Loading..."}),s&&s.weather&&s.weather.length>0&&x.jsxs("div",{className:"text-center space-y-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:s.name}),x.jsx("p",{className:"text-gray-400 capitalize",children:s.weather[0].description}),x.jsx("img",{src:`https://openweathermap.org/img/wn/${s.weather[0].icon}@2x.png`,alt:s.weather[0].description,className:"mx-auto"}),x.jsxs("h1",{className:"text-5xl font-bold text-blue-600",children:[s.main.temp,"Â°C"]}),x.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4 text-sm",children:[{label:"Humidity",value:`${s.main.humidity}%`},{label:"Wind",value:`${s.wind.speed} m/s`},{label:"Pressure",value:`${s.main.pressure} hPa`},{label:"Visibility",value:`${(s.visibility/1e3).toFixed(1)} km`}].map((l,C)=>x.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-700":"bg-red-100"}`,children:[x.jsx("p",{className:"text-gray-400",children:l.label}),x.jsx("p",{className:"font-semibold",children:l.value})]},C))})]})]})})})}export{Kt as default};
